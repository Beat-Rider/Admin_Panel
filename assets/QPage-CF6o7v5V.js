import{c as Se,a6 as Hn,g as se,a7 as In,a as d,D as jn,a8 as Pn,h as m,S as Ie,a9 as zn,B as nt,i as an,r as L,o as ze,w as te,aa as Nn,j as Mt,a3 as Ln,e as Be,ab as Qn,ac as at,f as me,a0 as ln,a1 as Kn,y as Oe,ad as on,b as ke,ae as be,z as xt,t as lt,a2 as Je,af as Zn,ag as rn,ah as Un,ai as Wn,W as ge,aj as Ge,H as Xn,ak as Jn,al as Gn,am as ea,L as ta,an as na,k as Te,m as aa,F as la}from"./index-CFGij7_S.js";import{u as ot,a as rt,m as oa,d as wt,p as J,b as ra,c as ia,e as ua,f as sa,g as ca}from"./format-CpzSwQcR.js";const da={xs:8,sm:10,md:14,lg:20,xl:24},fa=Se({name:"QChip",props:{...ot,...Hn,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=se(),i=rt(e,o),r=In(e,da),g=d(()=>e.selected===!0||e.icon!==void 0),u=d(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),b=d(()=>e.iconRemove||o.iconSet.chip.remove),D=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=d(()=>{const C=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(C?` text-${C} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(D.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),x=d(()=>{const C=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},X={...C,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:C,remove:X}});function A(C){C.keyCode===13&&O(C)}function O(C){e.disable||(a("update:selected",!e.selected),a("click",C))}function j(C){(C.keyCode===void 0||C.keyCode===13)&&(nt(C),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function E(){const C=[];D.value===!0&&C.push(m("div",{class:"q-focus-helper"})),g.value===!0&&C.push(m(Ie,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const X=e.label!==void 0?[m("div",{class:"ellipsis"},[e.label])]:void 0;return C.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},zn(t.default,X))),e.iconRight&&C.push(m(Ie,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&C.push(m(Ie,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:b.value,...x.value.remove,onClick:j,onKeyup:j})),C}return()=>{if(e.modelValue===!1)return;const C={class:h.value,style:r.value};return D.value===!0&&Object.assign(C,x.value.chip,{onClick:O,onKeyup:A}),jn("div",C,E(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Pn,e.ripple]])}}});let gt,Qe=0;const oe=new Array(256);for(let e=0;e<256;e++)oe[e]=(e+256).toString(16).substring(1);const va=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const a=new Uint8Array(t);return e.getRandomValues(a),a}}return t=>{const a=[];for(let o=t;o>0;o--)a.push(Math.floor(Math.random()*256));return a}})(),Ht=4096;function Ct(){(gt===void 0||Qe+16>Ht)&&(Qe=0,gt=va(Ht));const e=Array.prototype.slice.call(gt,Qe,Qe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,oe[e[0]]+oe[e[1]]+oe[e[2]]+oe[e[3]]+"-"+oe[e[4]]+oe[e[5]]+"-"+oe[e[6]]+oe[e[7]]+"-"+oe[e[8]]+oe[e[9]]+"-"+oe[e[10]]+oe[e[11]]+oe[e[12]]+oe[e[13]]+oe[e[14]]+oe[e[15]]}function ma(e){return e??null}function It(e,t){return e??(t===!0?`f_${Ct()}`:null)}function ga({getValue:e,required:t=!0}={}){if(an.value===!0){const a=e!==void 0?L(ma(e())):L(null);return t===!0&&a.value===null&&ze(()=>{a.value=`f_${Ct()}`}),e!==void 0&&te(e,o=>{a.value=It(o,t)}),a}return e!==void 0?d(()=>It(e(),t)):L(`f_${Ct()}`)}const jt=/^on[A-Z]/;function ha(){const{attrs:e,vnode:t}=se(),a={listeners:L({}),attributes:L({})};function o(){const i={},r={};for(const g in e)g!=="class"&&g!=="style"&&jt.test(g)===!1&&(i[g]=e[g]);for(const g in t.props)jt.test(g)===!0&&(r[g]=t.props[g]);a.attributes.value=i,a.listeners.value=r}return Nn(o),o(),a}function ya({validate:e,resetValidation:t,requiresQForm:a}){const o=Mt(Ln,!1);if(o!==!1){const{props:i,proxy:r}=se();Object.assign(r,{validate:e,resetValidation:t}),te(()=>i.disable,g=>{g===!0?(typeof t=="function"&&t(),o.unbindComponent(r)):o.bindComponent(r)}),ze(()=>{i.disable!==!0&&o.bindComponent(r)}),Be(()=>{i.disable!==!0&&o.unbindComponent(r)})}else a===!0&&console.error("Parent QForm not found on useFormChild()!")}const Pt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,zt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Nt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ke=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ze=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ht={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Pt.test(e),hexaColor:e=>zt.test(e),hexOrHexaColor:e=>Nt.test(e),rgbColor:e=>Ke.test(e),rgbaColor:e=>Ze.test(e),rgbOrRgbaColor:e=>Ke.test(e)||Ze.test(e),hexOrRgbColor:e=>Pt.test(e)||Ke.test(e),hexaOrRgbaColor:e=>zt.test(e)||Ze.test(e),anyColor:e=>Nt.test(e)||Ke.test(e)||Ze.test(e)},ba=[!0,!1,"ondemand"],ka={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>ba.includes(e)}};function Sa(e,t){const{props:a,proxy:o}=se(),i=L(!1),r=L(null),g=L(!1);ya({validate:E,resetValidation:j});let u=0,b;const D=d(()=>a.rules!==void 0&&a.rules!==null&&a.rules.length!==0),h=d(()=>a.disable!==!0&&D.value===!0&&t.value===!1),x=d(()=>a.error===!0||i.value===!0),A=d(()=>typeof a.errorMessage=="string"&&a.errorMessage.length!==0?a.errorMessage:r.value);te(()=>a.modelValue,()=>{g.value=!0,h.value===!0&&a.lazyRules===!1&&C()});function O(){a.lazyRules!=="ondemand"&&h.value===!0&&g.value===!0&&C()}te(()=>a.reactiveRules,X=>{X===!0?b===void 0&&(b=te(()=>a.rules,O,{immediate:!0,deep:!0})):b!==void 0&&(b(),b=void 0)},{immediate:!0}),te(()=>a.lazyRules,O),te(e,X=>{X===!0?g.value=!0:h.value===!0&&a.lazyRules!=="ondemand"&&C()});function j(){u++,t.value=!1,g.value=!1,i.value=!1,r.value=null,C.cancel()}function E(X=a.modelValue){if(a.disable===!0||D.value===!1)return!0;const T=++u,H=t.value!==!0?()=>{g.value=!0}:()=>{},_=(p,B)=>{p===!0&&H(),i.value=p,r.value=B||null,t.value=!1},Q=[];for(let p=0;p<a.rules.length;p++){const B=a.rules[p];let I;if(typeof B=="function"?I=B(X,ht):typeof B=="string"&&ht[B]!==void 0&&(I=ht[B](X)),I===!1||typeof I=="string")return _(!0,I),!1;I!==!0&&I!==void 0&&Q.push(I)}return Q.length===0?(_(!1),!0):(t.value=!0,Promise.all(Q).then(p=>{if(p===void 0||Array.isArray(p)===!1||p.length===0)return T===u&&_(!1),!0;const B=p.find(I=>I===!1||typeof I=="string");return T===u&&_(B!==void 0,B),B===void 0},p=>(T===u&&(console.error(p),_(!0)),!1)))}const C=Qn(E,0);return Be(()=>{b?.(),C.cancel()}),Object.assign(o,{resetValidation:j,validate:E}),at(o,"hasError",()=>x.value),{isDirtyModel:g,hasRules:D,hasError:x,errorMessage:A,validate:E,resetValidation:j}}let _e=[],je=[];function un(e){je=je.filter(t=>t!==e)}function Ma(e){un(e),je.push(e)}function Lt(e){un(e),je.length===0&&_e.length!==0&&(_e[_e.length-1](),_e=[])}function qt(e){je.length===0?e():_e.push(e)}function xa(e){_e=_e.filter(t=>t!==e)}function Pe(e){return e!=null&&(""+e).length!==0}const sn={...ot,...ka,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},wa={...sn,maxlength:[Number,String]},cn=["update:modelValue","clear","focus","blur"];function dn({requiredForAttr:e=!0,tagProp:t,changeEvent:a=!1}={}){const{props:o,proxy:i}=se(),r=rt(o,i.$q),g=ga({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:a,tag:t===!0?d(()=>o.tag):{value:"label"},isDark:r,editable:d(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:L(!1),focused:L(!1),hasPopupOpen:!1,splitAttrs:ha(),targetUid:g,rootRef:L(null),targetRef:L(null),controlRef:L(null)}}function fn(e){const{props:t,emit:a,slots:o,attrs:i,proxy:r}=se(),{$q:g}=r;let u=null;e.hasValue===void 0&&(e.hasValue=d(()=>Pe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=c=>{a("update:modelValue",c)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:P,onFocusout:f}),Object.assign(e,{clearValue:v,onControlFocusin:P,onControlFocusout:f,focus:B}),e.computedCounter===void 0&&(e.computedCounter=d(()=>{if(t.counter!==!1){const c=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,R=t.maxlength!==void 0?t.maxlength:t.maxValues;return c+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:b,hasRules:D,hasError:h,errorMessage:x,resetValidation:A}=Sa(e.focused,e.innerLoading),O=e.floatingLabel!==void 0?d(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):d(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),j=d(()=>t.bottomSlots===!0||t.hint!==void 0||D.value===!0||t.counter===!0||t.error!==null),E=d(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),C=d(()=>`q-field row no-wrap items-start q-field--${E.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(O.value===!0?" q-field--float":"")+(T.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&j.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),X=d(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(h.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),T=d(()=>t.labelSlot===!0||t.label!==void 0),H=d(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&h.value!==!0?` text-${t.labelColor}`:"")),_=d(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:O.value,modelValue:t.modelValue,emitValue:e.emitValue})),Q=d(()=>{const c={};return e.targetUid.value&&(c.for=e.targetUid.value),t.disable===!0&&(c["aria-disabled"]="true"),c});function p(){const c=document.activeElement;let R=e.targetRef?.value;R&&(c===null||c.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R!==c&&R?.focus({preventScroll:!0}))}function B(){qt(p)}function I(){xa(p);const c=document.activeElement;c!==null&&e.rootRef.value.contains(c)&&c.blur()}function P(c){u!==null&&(clearTimeout(u),u=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,a("focus",c))}function f(c,R){u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,a("blur",c)),R?.())})}function v(c){nt(c),g.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),a("update:modelValue",null),e.changeEvent===!0&&a("change",null),a("clear",t.modelValue),me(()=>{const R=b.value;A(),b.value=R})}function S(c){[13,32].includes(c.keyCode)&&v(c)}function k(){const c=[];return o.prepend!==void 0&&c.push(m("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Oe},o.prepend())),c.push(m("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},V())),h.value===!0&&t.noErrorIcon===!1&&c.push(U("error",[m(Ie,{name:g.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?c.push(U("inner-loading-append",o.loading!==void 0?o.loading():[m(on,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&c.push(U("inner-clearable-append",[m(Ie,{class:"q-field__focusable-action",name:t.clearIcon||g.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":g.lang.label.clear,onKeyup:S,onClick:v})])),o.append!==void 0&&c.push(m("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Oe},o.append())),e.getInnerAppend!==void 0&&c.push(U("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&c.push(e.getControlChild()),c}function V(){const c=[];return t.prefix!==void 0&&t.prefix!==null&&c.push(m("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&c.push(e.getShadowControl()),T.value===!0&&c.push(m("div",{class:H.value},ke(o.label,t.label))),e.getControl!==void 0?c.push(e.getControl()):o.rawControl!==void 0?c.push(o.rawControl()):o.control!==void 0&&c.push(m("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(_.value))),t.suffix!==void 0&&t.suffix!==null&&c.push(m("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),c.concat(ke(o.default))}function $(){let c,R;h.value===!0?x.value!==null?(c=[m("div",{role:"alert"},x.value)],R=`q--slot-error-${x.value}`):(c=ke(o.error),R="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(c=[m("div",t.hint)],R=`q--slot-hint-${t.hint}`):(c=ke(o.hint),R="q--slot-hint"));const ne=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&ne===!1&&c===void 0)return;const N=m("div",{key:R,class:"q-field__messages col"},c);return m("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Oe},[t.hideBottomSpace===!0?N:m(be,{name:"q-transition--field-message"},()=>N),ne===!0?m("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function U(c,R){return R===null?null:m("div",{key:c,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}let y=!1;return ln(()=>{y=!0}),Kn(()=>{y===!0&&t.autofocus===!0&&r.focus()}),t.autofocus===!0&&ze(()=>{r.focus()}),Be(()=>{u!==null&&clearTimeout(u)}),Object.assign(r,{focus:B,blur:I}),function(){const R=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...Q.value}:Q.value;return m(e.tag.value,{ref:e.rootRef,class:[C.value,i.class],style:i.style,...R},[o.before!==void 0?m("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Oe},o.before()):null,m("div",{class:"q-field__inner relative-position col self-stretch"},[m("div",{ref:e.controlRef,class:X.value,tabindex:-1,...e.controlEvents},k()),j.value===!0?$():null]),o.after!==void 0?m("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Oe},o.after()):null])}}const Dt={name:String};function Ca(e){return d(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function _a(e={}){return(t,a,o)=>{t[a](m("input",{class:"hidden"+(o||""),...e.value}))}}function vn(e){return d(()=>e.name||e.for)}function Ve(e,t,a,o){const i=[];return e.forEach(r=>{o(r)===!0?i.push(r):t.push({failedPropValidation:a,file:r})}),i}function Ue(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),nt(e)}const qa={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Da=["rejected"];function pa({editable:e,dnd:t,getFileInput:a,addFilesToQueue:o}){const{props:i,emit:r,proxy:g}=se(),u=L(null),b=d(()=>i.accept!==void 0?i.accept.split(",").map(T=>(T=T.trim(),T==="*"?"*/":(T.endsWith("/*")&&(T=T.slice(0,T.length-1)),T.toUpperCase()))):null),D=d(()=>parseInt(i.maxFiles,10)),h=d(()=>parseInt(i.maxTotalSize,10));function x(T){if(e.value)if(T!==Object(T)&&(T={target:null}),T.target?.matches('input[type="file"]')===!0)T.clientX===0&&T.clientY===0&&xt(T);else{const H=a();H!==T.target&&H?.click(T)}}function A(T){e.value&&T&&o(null,T)}function O(T,H,_,Q){let p=Array.from(H||T.target.files);const B=[],I=()=>{B.length!==0&&r("rejected",B)};if(i.accept!==void 0&&b.value.indexOf("*/")===-1&&(p=Ve(p,B,"accept",P=>b.value.some(f=>P.type.toUpperCase().startsWith(f)||P.name.toUpperCase().endsWith(f))),p.length===0))return I();if(i.maxFileSize!==void 0){const P=parseInt(i.maxFileSize,10);if(p=Ve(p,B,"max-file-size",f=>f.size<=P),p.length===0)return I()}if(i.multiple!==!0&&p.length!==0&&(p=[p[0]]),p.forEach(P=>{P.__key=P.webkitRelativePath+P.lastModified+P.name+P.size}),Q===!0){const P=_.map(f=>f.__key);p=Ve(p,B,"duplicate",f=>P.includes(f.__key)===!1)}if(p.length===0)return I();if(i.maxTotalSize!==void 0){let P=Q===!0?_.reduce((f,v)=>f+v.size,0):0;if(p=Ve(p,B,"max-total-size",f=>(P+=f.size,P<=h.value)),p.length===0)return I()}if(typeof i.filter=="function"){const P=i.filter(p);p=Ve(p,B,"filter",f=>P.includes(f))}if(i.maxFiles!==void 0){let P=Q===!0?_.length:0;if(p=Ve(p,B,"max-files",()=>(P++,P<=D.value)),p.length===0)return I()}if(I(),p.length!==0)return p}function j(T){Ue(T),t.value!==!0&&(t.value=!0)}function E(T){nt(T),(T.relatedTarget!==null||lt.is.safari!==!0?T.relatedTarget!==u.value:document.elementsFromPoint(T.clientX,T.clientY).includes(u.value)===!1)===!0&&(t.value=!1)}function C(T){Ue(T);const H=T.dataTransfer.files;H.length!==0&&o(null,H),t.value=!1}function X(T){if(t.value===!0)return m("div",{ref:u,class:`q-${T}__dnd absolute-full`,onDragenter:Ue,onDragover:Ue,onDragleave:E,onDrop:C})}return Object.assign(g,{pickFiles:x,addFiles:A}),{pickFiles:x,addFiles:A,onDragover:j,onDragleave:E,processFiles:O,getDndNode:X,maxFilesNumber:D,maxTotalSizeNumber:h}}function mn(e,t){function a(){const o=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(r=>{i.items.add(r)}),{files:i.files}}catch{return{files:void 0}}}return t===!0?d(()=>{if(e.type==="file")return a()}):d(a)}const bl=Se({name:"QFile",inheritAttrs:!1,props:{...sn,...Dt,...qa,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...cn,...Da],setup(e,{slots:t,emit:a,attrs:o}){const{proxy:i}=se(),r=dn(),g=L(null),u=L(!1),b=vn(e),{pickFiles:D,onDragover:h,onDragleave:x,processFiles:A,getDndNode:O}=pa({editable:r.editable,dnd:u,getFileInput:S,addFilesToQueue:k}),j=mn(e),E=d(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),C=d(()=>Pe(E.value)),X=d(()=>E.value.map(y=>y.name).join(", ")),T=d(()=>oa(E.value.reduce((y,c)=>y+c.size,0))),H=d(()=>({totalSize:T.value,filesNumber:E.value.length,maxFiles:e.maxFiles})),_=d(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:b.value,...o,id:r.targetUid.value,disabled:r.editable.value!==!0})),Q=d(()=>"q-file q-field--auto-height"+(u.value===!0?" q-file--dnd":"")),p=d(()=>e.multiple===!0&&e.append===!0);function B(y){const c=E.value.slice();c.splice(y,1),P(c)}function I(y){const c=E.value.indexOf(y);c!==-1&&B(c)}function P(y){a("update:modelValue",e.multiple===!0?y:y[0])}function f(y){y.keyCode===13&&Oe(y)}function v(y){(y.keyCode===13||y.keyCode===32)&&D(y)}function S(){return g.value}function k(y,c){const R=A(y,c,E.value,p.value),ne=S();ne!=null&&(ne.value=""),R!==void 0&&((e.multiple===!0?e.modelValue&&R.every(N=>E.value.includes(N)):e.modelValue===R[0])||P(p.value===!0?E.value.concat(R):R))}function V(){return[m("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function $(){if(t.file!==void 0)return E.value.length===0?V():E.value.map((c,R)=>t.file({index:R,file:c,ref:this}));if(t.selected!==void 0)return E.value.length===0?V():t.selected({files:E.value,ref:this});if(e.useChips===!0)return E.value.length===0?V():E.value.map((c,R)=>m(fa,{key:"file-"+R,removable:r.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{B(R)}},()=>m("span",{class:"ellipsis",textContent:c.name})));const y=e.displayValue!==void 0?e.displayValue:X.value;return y.length!==0?[m("div",{class:e.inputClass,style:e.inputStyle,textContent:y})]:V()}function U(){const y={ref:g,..._.value,...j.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:k};return e.multiple===!0&&(y.multiple=!0),m("input",y)}return Object.assign(r,{fieldClass:Q,emitValue:P,hasValue:C,inputRef:g,innerValue:E,floatingLabel:d(()=>C.value===!0||Pe(e.displayValue)),computedCounter:d(()=>{if(e.counterLabel!==void 0)return e.counterLabel(H.value);const y=e.maxFiles;return`${E.value.length}${y!==void 0?" / "+y:""} (${T.value})`}),getControlChild:()=>O("file"),getControl:()=>{const y={ref:r.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return r.editable.value===!0&&Object.assign(y,{onDragover:h,onDragleave:x,onKeydown:f,onKeyup:v}),m("div",y,[U()].concat($()))}}),Object.assign(i,{removeAtIndex:B,removeFile:I,getNativeElement:()=>g.value}),at(i,"nativeEl",()=>g.value),fn(r)}}),Fa={ratio:[String,Number]};function Ta(e,t){return d(()=>{const a=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const Va=1.7778,kl=Se({name:"QImg",props:{...Fa,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Va},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:a}){const o=L(e.initialRatio),i=Ta(e,o),r=se(),{registerTimeout:g,removeTimeout:u}=wt(),{registerTimeout:b,removeTimeout:D}=wt(),h=d(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),x=d(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),A=[L(null),L(h.value)],O=L(0),j=L(!1),E=L(!1),C=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),X=d(()=>({width:e.width,height:e.height})),T=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),H=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function _(){if(D(),e.loadingShowDelay===0){j.value=!0;return}b(()=>{j.value=!0},e.loadingShowDelay)}function Q(){D(),j.value=!1}function p({target:S}){Je(r)===!1&&(u(),o.value=S.naturalHeight===0?.5:S.naturalWidth/S.naturalHeight,B(S,1))}function B(S,k){k===1e3||Je(r)===!0||(S.complete===!0?I(S):g(()=>{B(S,k+1)},50))}function I(S){Je(r)!==!0&&(O.value=O.value^1,A[O.value].value=null,Q(),S.getAttribute("__qerror")!=="true"&&(E.value=!1),a("load",S.currentSrc||S.src))}function P(S){u(),Q(),E.value=!0,A[O.value].value=x.value,A[O.value^1].value=h.value,a("error",S)}function f(S){const k=A[S].value,V={key:"img_"+S,class:T.value,style:H.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...k};return O.value===S?Object.assign(V,{class:V.class+"current",onLoad:p,onError:P}):V.class+="loaded",m("div",{class:"q-img__container absolute-full",key:"img"+S},m("img",V))}function v(){return j.value===!1?m("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ke(t[E.value===!0?"error":"default"])):m("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[m(on,{color:e.spinnerColor,size:e.spinnerSize})])}{let S=function(){te(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,k=>{u(),E.value=!1,k===null?(Q(),A[O.value^1].value=h.value):_(),A[O.value].value=k},{immediate:!0})};an.value===!0?ze(S):S()}return()=>{const S=[];return i.value!==null&&S.push(m("div",{key:"filler",style:i.value})),A[0].value!==null&&S.push(f(0)),A[1].value!==null&&S.push(f(1)),S.push(m(be,{name:"q-transition--fade"},v)),m("div",{key:"main",class:C.value,style:X.value,role:"img","aria-label":e.alt},S)}}}),Qt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},{tokenMap:Kt,tokenKeys:Ra}=gn({"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}});function gn(e){const t=Object.keys(e),a={};return t.forEach(o=>{const i=e[o];a[o]={...i,regex:new RegExp(i.pattern)}}),{tokenMap:a,tokenKeys:t}}function hn(e){return new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+e.join("")+"])|(.)","g")}const Zt=/[.*+?^${}()|[\]\\]/g,Ea=hn(Ra),ae="",Oa={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean,maskTokens:Object};function Aa(e,t,a,o){let i,r,g,u,b,D;const h=d(()=>{if(e.maskTokens===void 0||e.maskTokens===null)return{tokenMap:Kt,tokenRegexMask:Ea};const{tokenMap:f}=gn(e.maskTokens),v={...Kt,...f};return{tokenMap:v,tokenRegexMask:hn(Object.keys(v))}}),x=L(null),A=L(j());function O(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}te(()=>e.type+e.autogrow,C),te(()=>e.mask,f=>{if(f!==void 0)X(A.value,!0);else{const v=I(A.value);C(),e.modelValue!==v&&t("update:modelValue",v)}}),te(()=>e.fillMask+e.reverseFillMask,()=>{x.value===!0&&X(A.value,!0)}),te(()=>e.unmaskedValue,()=>{x.value===!0&&X(A.value)});function j(){if(C(),x.value===!0){const f=p(I(e.modelValue));return e.fillMask!==!1?P(f):f}return e.modelValue}function E(f){if(f<i.length)return i.slice(-f);let v="",S=i;const k=S.indexOf(ae);if(k!==-1){for(let V=f-S.length;V>0;V--)v+=ae;S=S.slice(0,k)+v+S.slice(k)}return S}function C(){if(x.value=e.mask!==void 0&&e.mask.length!==0&&O(),x.value===!1){u=void 0,i="",r="";return}const f=Qt[e.mask]===void 0?e.mask:Qt[e.mask],v=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",S=v.replace(Zt,"\\$&"),k=[],V=[],$=[];let U=e.reverseFillMask===!0,y="",c="";f.replace(h.value.tokenRegexMask,(M,W,le,re,Y)=>{if(re!==void 0){const Z=h.value.tokenMap[re];$.push(Z),c=Z.negate,U===!0&&(V.push("(?:"+c+"+)?("+Z.pattern+"+)?(?:"+c+"+)?("+Z.pattern+"+)?"),U=!1),V.push("(?:"+c+"+)?("+Z.pattern+")?")}else if(le!==void 0)y="\\"+(le==="\\"?"":le),$.push(le),k.push("([^"+y+"]+)?"+y+"?");else{const Z=W!==void 0?W:Y;y=Z==="\\"?"\\\\\\\\":Z.replace(Zt,"\\\\$&"),$.push(Z),k.push("([^"+y+"]+)?"+y+"?")}});const R=new RegExp("^"+k.join("")+"("+(y===""?".":"[^"+y+"]")+"+)?"+(y===""?"":"["+y+"]*")+"$"),ne=V.length-1,N=V.map((M,W)=>W===0&&e.reverseFillMask===!0?new RegExp("^"+S+"*"+M):W===ne?new RegExp("^"+M+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":S+"*")):new RegExp("^"+M));g=$,u=M=>{const W=R.exec(e.reverseFillMask===!0?M:M.slice(0,$.length+1));W!==null&&(M=W.slice(1).join(""));const le=[],re=N.length;for(let Y=0,Z=M;Y<re;Y++){const de=N[Y].exec(Z);if(de===null)break;Z=Z.slice(de.shift().length),le.push(...de)}return le.length!==0?le.join(""):M},i=$.map(M=>typeof M=="string"?M:ae).join(""),r=i.split(ae).join(v)}function X(f,v,S){const k=o.value,V=k.selectionEnd,$=k.value.length-V,U=I(f);v===!0&&C();const y=p(U,v),c=e.fillMask!==!1?P(y):y,R=A.value!==c;k.value!==c&&(k.value=c),R===!0&&(A.value=c),document.activeElement===k&&me(()=>{if(c===r){const N=e.reverseFillMask===!0?r.length:0;k.setSelectionRange(N,N,"forward");return}if(S==="insertFromPaste"&&e.reverseFillMask!==!0){const N=k.selectionEnd;let M=V-1;for(let W=b;W<=M&&W<N;W++)i[W]!==ae&&M++;H.right(k,M);return}if(["deleteContentBackward","deleteContentForward"].indexOf(S)!==-1){const N=e.reverseFillMask===!0?V===0?c.length>y.length?1:0:Math.max(0,c.length-(c===r?0:Math.min(y.length,$)+1))+1:V;k.setSelectionRange(N,N,"forward");return}if(e.reverseFillMask===!0)if(R===!0){const N=Math.max(0,c.length-(c===r?0:Math.min(y.length,$+1)));N===1&&V===1?k.setSelectionRange(N,N,"forward"):H.rightReverse(k,N)}else{const N=c.length-$;k.setSelectionRange(N,N,"backward")}else if(R===!0){const N=Math.max(0,i.indexOf(ae),Math.min(y.length,V)-1);H.right(k,N)}else{const N=V-1;H.right(k,N)}});const ne=e.unmaskedValue===!0?I(c):c;String(e.modelValue)!==ne&&(e.modelValue!==null||ne!=="")&&a(ne,!0)}function T(f,v,S){const k=p(I(f.value));v=Math.max(0,i.indexOf(ae),Math.min(k.length,v)),b=v,f.setSelectionRange(v,S,"forward")}const H={left(f,v){const S=i.slice(v-1).indexOf(ae)===-1;let k=Math.max(0,v-1);for(;k>=0;k--)if(i[k]===ae){v=k,S===!0&&v++;break}if(k<0&&i[v]!==void 0&&i[v]!==ae)return H.right(f,0);v>=0&&f.setSelectionRange(v,v,"backward")},right(f,v){const S=f.value.length;let k=Math.min(S,v+1);for(;k<=S;k++)if(i[k]===ae){v=k;break}else i[k-1]===ae&&(v=k);if(k>S&&i[v-1]!==void 0&&i[v-1]!==ae)return H.left(f,S);f.setSelectionRange(v,v,"forward")},leftReverse(f,v){const S=E(f.value.length);let k=Math.max(0,v-1);for(;k>=0;k--)if(S[k-1]===ae){v=k;break}else if(S[k]===ae&&(v=k,k===0))break;if(k<0&&S[v]!==void 0&&S[v]!==ae)return H.rightReverse(f,0);v>=0&&f.setSelectionRange(v,v,"backward")},rightReverse(f,v){const S=f.value.length,k=E(S),V=k.slice(0,v+1).indexOf(ae)===-1;let $=Math.min(S,v+1);for(;$<=S;$++)if(k[$-1]===ae){v=$,v>0&&V===!0&&v--;break}if($>S&&k[v-1]!==void 0&&k[v-1]!==ae)return H.leftReverse(f,S);f.setSelectionRange(v,v,"forward")}};function _(f){t("click",f),D=void 0}function Q(f){if(t("keydown",f),Zn(f)===!0||f.altKey===!0)return;const v=o.value,S=v.selectionStart,k=v.selectionEnd;if(f.shiftKey||(D=void 0),f.keyCode===37||f.keyCode===39){f.shiftKey&&D===void 0&&(D=v.selectionDirection==="forward"?S:k);const V=H[(f.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(f.preventDefault(),V(v,D===S?k:S),f.shiftKey){const $=v.selectionStart;v.setSelectionRange(Math.min(D,$),Math.max(D,$),"forward")}}else f.keyCode===8&&e.reverseFillMask!==!0&&S===k?(H.left(v,S),v.setSelectionRange(v.selectionStart,k,"backward")):f.keyCode===46&&e.reverseFillMask===!0&&S===k&&(H.rightReverse(v,k),v.setSelectionRange(S,v.selectionEnd,"forward"))}function p(f,v){if(f==null||f==="")return"";if(e.reverseFillMask===!0)return B(f,v);const S=g;let k=0,V="";for(let $=0;$<S.length;$++){const U=f[k],y=S[$];if(typeof y=="string")V+=y,v===!0&&U===y&&k++;else if(U!==void 0&&y.regex.test(U))V+=y.transform!==void 0?y.transform(U):U,k++;else return V}return V}function B(f,v){const S=g,k=i.indexOf(ae);let V=f.length-1,$="";for(let U=S.length-1;U>=0&&V!==-1;U--){const y=S[U];let c=f[V];if(typeof y=="string")$=y+$,v===!0&&c===y&&V--;else if(c!==void 0&&y.regex.test(c))do $=(y.transform!==void 0?y.transform(c):c)+$,V--,c=f[V];while(k===U&&c!==void 0&&y.regex.test(c));else return $}return $}function I(f){return typeof f!="string"||u===void 0?typeof f=="number"?u(""+f):f:u(f)}function P(f){return r.length-f.length<=0?f:e.reverseFillMask===!0&&f.length!==0?r.slice(0,-f.length)+f:f+r.slice(f.length)}return{innerValue:A,hasMask:x,moveCursorForPaste:T,updateMaskValue:X,onMaskedKeydown:Q,onMaskedClick:_}}const Ba=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,$a=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ya=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ha=/[a-z0-9_ -]$/i;function Ia(e){return function(a){if(a.type==="compositionend"||a.type==="change"){if(a.target.qComposing!==!0)return;a.target.qComposing=!1,e(a)}else a.type==="compositionupdate"&&a.target.qComposing!==!0&&typeof a.data=="string"&&(lt.is.firefox===!0?Ha.test(a.data)===!1:Ba.test(a.data)===!0||$a.test(a.data)===!0||Ya.test(a.data)===!0)===!0&&(a.target.qComposing=!0)}}const Sl=Se({name:"QInput",inheritAttrs:!1,props:{...wa,...Oa,...Dt,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...cn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:a}){const{proxy:o}=se(),{$q:i}=o,r={};let g=NaN,u,b,D=null,h;const x=L(null),A=vn(e),{innerValue:O,hasMask:j,moveCursorForPaste:E,updateMaskValue:C,onMaskedKeydown:X,onMaskedClick:T}=Aa(e,t,U,x),H=mn(e,!0),_=d(()=>Pe(O.value)),Q=Ia(V),p=dn({changeEvent:!0}),B=d(()=>e.type==="textarea"||e.autogrow===!0),I=d(()=>B.value===!0||["text","search","url","tel","password"].includes(e.type)),P=d(()=>{const M={...p.splitAttrs.listeners.value,onInput:V,onPaste:k,onChange:c,onBlur:R,onFocus:xt};return M.onCompositionstart=M.onCompositionupdate=M.onCompositionend=Q,j.value===!0&&(M.onKeydown=X,M.onClick=T),e.autogrow===!0&&(M.onAnimationend=$),M}),f=d(()=>{const M={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:A.value,...p.splitAttrs.attributes.value,id:p.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return B.value===!1&&(M.type=e.type),e.autogrow===!0&&(M.rows=1),M});te(()=>e.type,()=>{x.value&&(x.value.value=e.modelValue)}),te(()=>e.modelValue,M=>{if(j.value===!0){if(b===!0&&(b=!1,String(M)===g))return;C(M)}else O.value!==M&&(O.value=M,e.type==="number"&&r.hasOwnProperty("value")===!0&&(u===!0?u=!1:delete r.value));e.autogrow===!0&&me(y)}),te(()=>e.autogrow,M=>{M===!0?me(y):x.value!==null&&a.rows>0&&(x.value.style.height="auto")}),te(()=>e.dense,()=>{e.autogrow===!0&&me(y)});function v(){qt(()=>{const M=document.activeElement;x.value!==null&&x.value!==M&&(M===null||M.id!==p.targetUid.value)&&x.value.focus({preventScroll:!0})})}function S(){x.value?.select()}function k(M){if(j.value===!0&&e.reverseFillMask!==!0){const W=M.target;E(W,W.selectionStart,W.selectionEnd)}t("paste",M)}function V(M){if(!M||!M.target)return;if(e.type==="file"){t("update:modelValue",M.target.files);return}const W=M.target.value;if(M.target.qComposing===!0){r.value=W;return}if(j.value===!0)C(W,!1,M.inputType);else if(U(W),I.value===!0&&M.target===document.activeElement){const{selectionStart:le,selectionEnd:re}=M.target;le!==void 0&&re!==void 0&&me(()=>{M.target===document.activeElement&&W.indexOf(M.target.value)===0&&M.target.setSelectionRange(le,re)})}e.autogrow===!0&&y()}function $(M){t("animationend",M),y()}function U(M,W){h=()=>{D=null,e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==M&&g!==M&&(g=M,W===!0&&(b=!0),t("update:modelValue",M),me(()=>{g===M&&(g=NaN)})),h=void 0},e.type==="number"&&(u=!0,r.value=M),e.debounce!==void 0?(D!==null&&clearTimeout(D),r.value=M,D=setTimeout(h,e.debounce)):h()}function y(){requestAnimationFrame(()=>{const M=x.value;if(M!==null){const W=M.parentNode.style,{scrollTop:le}=M,{overflowY:re,maxHeight:Y}=i.platform.is.firefox===!0?{}:window.getComputedStyle(M),Z=re!==void 0&&re!=="scroll";Z===!0&&(M.style.overflowY="hidden"),W.marginBottom=M.scrollHeight-1+"px",M.style.height="1px",M.style.height=M.scrollHeight+"px",Z===!0&&(M.style.overflowY=parseInt(Y,10)<M.scrollHeight?"auto":"hidden"),W.marginBottom="",M.scrollTop=le}})}function c(M){Q(M),D!==null&&(clearTimeout(D),D=null),h?.(),t("change",M.target.value)}function R(M){M!==void 0&&xt(M),D!==null&&(clearTimeout(D),D=null),h?.(),u=!1,b=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{x.value!==null&&(x.value.value=O.value!==void 0?O.value:"")})}function ne(){return r.hasOwnProperty("value")===!0?r.value:O.value!==void 0?O.value:""}Be(()=>{R()}),ze(()=>{e.autogrow===!0&&y()}),Object.assign(p,{innerValue:O,fieldClass:d(()=>`q-${B.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:d(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:x,emitValue:U,hasValue:_,floatingLabel:d(()=>_.value===!0&&(e.type!=="number"||isNaN(O.value)===!1)||Pe(e.displayValue)),getControl:()=>m(B.value===!0?"textarea":"input",{ref:x,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...f.value,...P.value,...e.type!=="file"?{value:ne()}:H.value}),getShadowControl:()=>m("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(B.value===!0?"":" text-no-wrap")},[m("span",{class:"invisible"},ne()),m("span",e.shadowText)])});const N=fn(p);return Object.assign(o,{focus:v,select:S,getNativeElement:()=>x.value}),at(o,"nativeEl",()=>x.value),N}});function ja(){let e=Object.create(null);return{getCache:(t,a)=>e[t]===void 0?e[t]=typeof a=="function"?a():a:e[t],setCache(t,a){e[t]=a},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const we=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Pa(e,t,a){return Object.prototype.toString.call(e)==="[object Date]"&&(a=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),Qa(pt(e,t,a))}function Ut(e,t,a){return bn(La(e,t,a))}function za(e){return Na(e)===0}function et(e,t){return t<=6?31:t<=11||za(e)?30:29}function Na(e){const t=we.length;let a=we[0],o,i,r,g,u;if(e<a||e>=we[t-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<t&&(o=we[u],i=o-a,!(e<o));u+=1)a=o;return g=e-a,i-g<6&&(g=g-i+ee(i+4,33)*33),r=ce(ce(g+1,33)-1,4),r===-1&&(r=4),r}function yn(e,t){const a=we.length,o=e+621;let i=-14,r=we[0],g,u,b,D,h;if(e<r||e>=we[a-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<a&&(g=we[h],u=g-r,!(e<g));h+=1)i=i+ee(u,33)*8+ee(ce(u,33),4),r=g;D=e-r,i=i+ee(D,33)*8+ee(ce(D,33)+3,4),ce(u,33)===4&&u-D===4&&(i+=1);const x=ee(o,4)-ee((ee(o,100)+1)*3,4)-150,A=20+i-x;return t||(u-D<6&&(D=D-u+ee(u+4,33)*33),b=ce(ce(D+1,33)-1,4),b===-1&&(b=4)),{leap:b,gy:o,march:A}}function La(e,t,a){const o=yn(e,!0);return pt(o.gy,3,o.march)+(t-1)*31-ee(t,7)*(t-7)+a-1}function Qa(e){const t=bn(e).gy;let a=t-621,o,i,r;const g=yn(a,!1),u=pt(t,3,g.march);if(r=e-u,r>=0){if(r<=185)return i=1+ee(r,31),o=ce(r,31)+1,{jy:a,jm:i,jd:o};r-=186}else a-=1,r+=179,g.leap===1&&(r+=1);return i=7+ee(r,30),o=ce(r,30)+1,{jy:a,jm:i,jd:o}}function pt(e,t,a){let o=ee((e+ee(t-8,6)+100100)*1461,4)+ee(153*ce(t+9,12)+2,5)+a-34840408;return o=o-ee(ee(e+100100+ee(t-8,6),100)*3,4)+752,o}function bn(e){let t=4*e+139361631;t=t+ee(ee(4*e+183187720,146097)*3,4)*4-3908;const a=ee(ce(t,1461),4)*5+308,o=ee(ce(a,153),5)+1,i=ce(ee(a,153),12)+1;return{gy:ee(t,1461)-100100+ee(8-i,6),gm:i,gd:o}}function ee(e,t){return~~(e/t)}function ce(e,t){return e-~~(e/t)*t}const Ka=["gregorian","persian"],Wt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ka.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Za=["update:modelValue"];function Me(e){return e.year+"/"+J(e.month)+"/"+J(e.day)}function Ua(e,t){const a=d(()=>e.disable!==!0&&e.readonly!==!0),o=d(()=>a.value===!0?0:-1),i=d(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function r(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function g(u){const b=new Date,D=u===!0?null:0;if(e.calendar==="persian"){const h=Pa(b);return{year:h.jy,month:h.jm,day:h.jd}}return{year:b.getFullYear(),month:b.getMonth()+1,day:b.getDate(),hour:D,minute:D,second:D,millisecond:D}}return{editable:a,tabindex:o,headerClass:i,getLocale:r,getCurrentDate:g}}const kn=864e5,Wa=36e5,_t=6e4,Sn="YYYY-MM-DDTHH:mm:ss.SSSZ",Xa=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ja=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,yt={};function Ga(e,t){const a="("+t.days.join("|")+")",o=e+a;if(yt[o]!==void 0)return yt[o];const i="("+t.daysShort.join("|")+")",r="("+t.months.join("|")+")",g="("+t.monthsShort.join("|")+")",u={};let b=0;const D=e.replace(Ja,x=>{switch(b++,x){case"YY":return u.YY=b,"(-?\\d{1,2})";case"YYYY":return u.YYYY=b,"(-?\\d{1,4})";case"M":return u.M=b,"(\\d{1,2})";case"Mo":return u.M=b++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return u.M=b,"(\\d{2})";case"MMM":return u.MMM=b,g;case"MMMM":return u.MMMM=b,r;case"D":return u.D=b,"(\\d{1,2})";case"Do":return u.D=b++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=b,"(\\d{2})";case"H":return u.H=b,"(\\d{1,2})";case"HH":return u.H=b,"(\\d{2})";case"h":return u.h=b,"(\\d{1,2})";case"hh":return u.h=b,"(\\d{2})";case"m":return u.m=b,"(\\d{1,2})";case"mm":return u.m=b,"(\\d{2})";case"s":return u.s=b,"(\\d{1,2})";case"ss":return u.s=b,"(\\d{2})";case"S":return u.S=b,"(\\d{1})";case"SS":return u.S=b,"(\\d{2})";case"SSS":return u.S=b,"(\\d{3})";case"A":return u.A=b,"(AM|PM)";case"a":return u.a=b,"(am|pm)";case"aa":return u.aa=b,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return a;case"Q":case"d":case"E":return"(\\d{1})";case"do":return b++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return b++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return b++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return u.Z=b,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=b,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=b,"(-?\\d+)";case"x":return u.x=b,"(-?\\d{4,})";default:return b--,x[0]==="["&&(x=x.substring(1,x.length-1)),x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),h={map:u,regex:new RegExp("^"+D)};return yt[o]=h,h}function Mn(e,t){return e!==void 0?e:t!==void 0?t.date:Un.date}function Xt(e,t=""){const a=e>0?"-":"+",o=Math.abs(e),i=Math.floor(o/60),r=o%60;return a+J(i)+t+J(r)}function el(e,t,a,o,i){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(r,i),e==null||e===""||typeof e!="string")return r;t===void 0&&(t=Sn);const g=Mn(a,rn.props),u=g.months,b=g.monthsShort,{regex:D,map:h}=Ga(t,g),x=e.match(D);if(x===null)return r;let A="";if(h.X!==void 0||h.x!==void 0){const O=parseInt(x[h.X!==void 0?h.X:h.x],10);if(isNaN(O)===!0||O<0)return r;const j=new Date(O*(h.X!==void 0?1e3:1));r.year=j.getFullYear(),r.month=j.getMonth()+1,r.day=j.getDate(),r.hour=j.getHours(),r.minute=j.getMinutes(),r.second=j.getSeconds(),r.millisecond=j.getMilliseconds()}else{if(h.YYYY!==void 0)r.year=parseInt(x[h.YYYY],10);else if(h.YY!==void 0){const O=parseInt(x[h.YY],10);r.year=O<0?O:2e3+O}if(h.M!==void 0){if(r.month=parseInt(x[h.M],10),r.month<1||r.month>12)return r}else h.MMM!==void 0?r.month=b.indexOf(x[h.MMM])+1:h.MMMM!==void 0&&(r.month=u.indexOf(x[h.MMMM])+1);if(h.D!==void 0){if(r.day=parseInt(x[h.D],10),r.year===null||r.month===null||r.day<1)return r;const O=o!=="persian"?new Date(r.year,r.month,0).getDate():et(r.year,r.month);if(r.day>O)return r}h.H!==void 0?r.hour=parseInt(x[h.H],10)%24:h.h!==void 0&&(r.hour=parseInt(x[h.h],10)%12,(h.A&&x[h.A]==="PM"||h.a&&x[h.a]==="pm"||h.aa&&x[h.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),h.m!==void 0&&(r.minute=parseInt(x[h.m],10)%60),h.s!==void 0&&(r.second=parseInt(x[h.s],10)%60),h.S!==void 0&&(r.millisecond=parseInt(x[h.S],10)*10**(3-x[h.S].length)),(h.Z!==void 0||h.ZZ!==void 0)&&(A=h.Z!==void 0?x[h.Z].replace(":",""):x[h.ZZ],r.timezoneOffset=(A[0]==="+"?-1:1)*(60*A.slice(1,3)+1*A.slice(3,5)))}return r.dateHash=J(r.year,4)+"/"+J(r.month)+"/"+J(r.day),r.timeHash=J(r.hour)+":"+J(r.minute)+":"+J(r.second)+A,r}function bt(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-o);const i=(t-a)/(kn*7);return 1+Math.floor(i)}function ye(e,t,a){const o=new Date(e),i=`set${a===!0?"UTC":""}`;switch(t){case"year":case"years":o[`${i}Month`](0);case"month":case"months":o[`${i}Date`](1);case"day":case"days":case"date":o[`${i}Hours`](0);case"hour":case"hours":o[`${i}Minutes`](0);case"minute":case"minutes":o[`${i}Seconds`](0);case"second":case"seconds":o[`${i}Milliseconds`](0)}return o}function We(e,t,a){return(e.getTime()-e.getTimezoneOffset()*_t-(t.getTime()-t.getTimezoneOffset()*_t))/a}function xn(e,t,a="days"){const o=new Date(e),i=new Date(t);switch(a){case"years":case"year":return o.getFullYear()-i.getFullYear();case"months":case"month":return(o.getFullYear()-i.getFullYear())*12+o.getMonth()-i.getMonth();case"days":case"day":case"date":return We(ye(o,"day"),ye(i,"day"),kn);case"hours":case"hour":return We(ye(o,"hour"),ye(i,"hour"),Wa);case"minutes":case"minute":return We(ye(o,"minute"),ye(i,"minute"),_t);case"seconds":case"second":return We(ye(o,"second"),ye(i,"second"),1e3)}}function kt(e){return xn(e,ye(e,"year"),"days")+1}function Re(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Jt={YY(e,t,a){const o=this.YYYY(e,t,a)%100;return o>=0?J(o):"-"+J(Math.abs(o))},YYYY(e,t,a){return a??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Re(e.getMonth()+1)},MM(e){return J(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Re(this.Q(e))},D(e){return e.getDate()},Do(e){return Re(e.getDate())},DD(e){return J(e.getDate())},DDD(e){return kt(e)},DDDo(e){return Re(kt(e))},DDDD(e){return J(kt(e),3)},d(e){return e.getDay()},do(e){return Re(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return bt(e)},wo(e){return Re(bt(e))},ww(e){return J(bt(e))},H(e){return e.getHours()},HH(e){return J(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return J(this.h(e))},m(e){return e.getMinutes()},mm(e){return J(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return J(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return J(Math.floor(e.getMilliseconds()/10))},SSS(e){return J(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,a,o){const i=o??e.getTimezoneOffset();return Xt(i,":")},ZZ(e,t,a,o){const i=o??e.getTimezoneOffset();return Xt(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function tl(e,t,a,o,i){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;t===void 0&&(t=Sn);const g=Mn(a,rn.props);return t.replace(Xa,(u,b)=>u in Jt?Jt[u](r,g,o,i):b===void 0?u:b.split("\\]").join("]"))}const he=20,nl=["Calendar","Years","Months"],Gt=e=>nl.includes(e),St=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ee=" â€” ";function xe(e){return e.year+"/"+J(e.month)}const Ml=Se({name:"QDate",props:{...Wt,...Dt,...ot,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Wt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:St},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:St},navigationMaxYearMonth:{type:String,validator:St},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Gt}},emits:[...Za,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:a}){const{proxy:o}=se(),{$q:i}=o,r=rt(e,i),{getCache:g}=ja(),{tabindex:u,headerClass:b,getLocale:D,getCurrentDate:h}=Ua(e,i);let x;const A=Ca(e),O=_a(A),j=L(null),E=L(Rt()),C=L(D()),X=d(()=>Rt()),T=d(()=>D()),H=d(()=>h()),_=L(Et(E.value,C.value)),Q=L(e.defaultView),p=d(()=>i.lang.rtl===!0?"right":"left"),B=L(p.value),I=L(p.value),P=_.value.year,f=L(P-P%he-(P<0?he:0)),v=L(null),S=d(()=>{const n=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${n} q-date--${n}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),k=d(()=>e.color||"primary"),V=d(()=>e.textColor||"white"),$=d(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),U=d(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),y=d(()=>U.value.filter(n=>typeof n=="string").map(n=>ct(n,E.value,C.value)).filter(n=>n.dateHash!==null&&n.day!==null&&n.month!==null&&n.year!==null)),c=d(()=>{const n=l=>ct(l,E.value,C.value);return U.value.filter(l=>Wn(l)===!0&&l.from!==void 0&&l.to!==void 0).map(l=>({from:n(l.from),to:n(l.to)})).filter(l=>l.from.dateHash!==null&&l.to.dateHash!==null&&l.from.dateHash<l.to.dateHash)}),R=d(()=>e.calendar!=="persian"?n=>new Date(n.year,n.month-1,n.day):n=>{const l=Ut(n.year,n.month,n.day);return new Date(l.gy,l.gm-1,l.gd)}),ne=d(()=>e.calendar==="persian"?Me:(n,l,s)=>tl(new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond),l===void 0?E.value:l,s===void 0?C.value:s,n.year,n.timezoneOffset)),N=d(()=>y.value.length+c.value.reduce((n,l)=>n+1+xn(R.value(l.to),R.value(l.from)),0)),M=d(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(v.value!==null){const s=v.value.init,w=R.value(s);return C.value.daysShort[w.getDay()]+", "+C.value.monthsShort[s.month-1]+" "+s.day+Ee+"?"}if(N.value===0)return Ee;if(N.value>1)return`${N.value} ${C.value.pluralDay}`;const n=y.value[0],l=R.value(n);return isNaN(l.valueOf())===!0?Ee:C.value.headerTitle!==void 0?C.value.headerTitle(l,n):C.value.daysShort[l.getDay()]+", "+C.value.monthsShort[n.month-1]+" "+n.day}),W=d(()=>y.value.concat(c.value.map(l=>l.from)).sort((l,s)=>l.year-s.year||l.month-s.month)[0]),le=d(()=>y.value.concat(c.value.map(l=>l.to)).sort((l,s)=>s.year-l.year||s.month-l.month)[0]),re=d(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(N.value===0)return Ee;if(N.value>1){const n=W.value,l=le.value,s=C.value.monthsShort;return s[n.month-1]+(n.year!==l.year?" "+n.year+Ee+s[l.month-1]+" ":n.month!==l.month?Ee+s[l.month-1]:"")+" "+l.year}return y.value[0].year}),Y=d(()=>{const n=[i.iconSet.datetime.arrowLeft,i.iconSet.datetime.arrowRight];return i.lang.rtl===!0?n.reverse():n}),Z=d(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):C.value.firstDayOfWeek),de=d(()=>{const n=C.value.daysShort,l=Z.value;return l>0?n.slice(l,7).concat(n.slice(0,l)):n}),ve=d(()=>{const n=_.value;return e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():et(n.year,n.month)}),$e=d(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ie=d(()=>{if(e.navigationMinYearMonth===void 0)return null;const n=e.navigationMinYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),ue=d(()=>{if(e.navigationMaxYearMonth===void 0)return null;const n=e.navigationMaxYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),it=d(()=>{const n={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ie.value!==null&&ie.value.year>=_.value.year&&(n.year.prev=!1,ie.value.year===_.value.year&&ie.value.month>=_.value.month&&(n.month.prev=!1)),ue.value!==null&&ue.value.year<=_.value.year&&(n.year.next=!1,ue.value.year===_.value.year&&ue.value.month<=_.value.month&&(n.month.next=!1)),n}),Ne=d(()=>{const n={};return y.value.forEach(l=>{const s=xe(l);n[s]===void 0&&(n[s]=[]),n[s].push(l.day)}),n}),Ft=d(()=>{const n={};return c.value.forEach(l=>{const s=xe(l.from),w=xe(l.to);if(n[s]===void 0&&(n[s]=[]),n[s].push({from:l.from.day,to:s===w?l.to.day:void 0,range:l}),s<w){let q;const{year:K,month:F}=l.from,z=F<12?{year:K,month:F+1}:{year:K+1,month:1};for(;(q=xe(z))<=w;)n[q]===void 0&&(n[q]=[]),n[q].push({from:void 0,to:q===w?l.to.day:void 0,range:l}),z.month++,z.month>12&&(z.year++,z.month=1)}}),n}),Ye=d(()=>{if(v.value===null)return;const{init:n,initHash:l,final:s,finalHash:w}=v.value,[q,K]=l<=w?[n,s]:[s,n],F=xe(q),z=xe(K);if(F!==fe.value&&z!==fe.value)return;const G={};return F===fe.value?(G.from=q.day,G.includeFrom=!0):G.from=1,z===fe.value?(G.to=K.day,G.includeTo=!0):G.to=ve.value,G}),fe=d(()=>xe(_.value)),_n=d(()=>{const n={};if(e.options===void 0){for(let s=1;s<=ve.value;s++)n[s]=!0;return n}const l=typeof e.options=="function"?e.options:s=>e.options.includes(s);for(let s=1;s<=ve.value;s++){const w=fe.value+"/"+J(s);n[s]=l(w)}return n}),qn=d(()=>{const n={};if(e.events===void 0)for(let l=1;l<=ve.value;l++)n[l]=!1;else{const l=typeof e.events=="function"?e.events:s=>e.events.includes(s);for(let s=1;s<=ve.value;s++){const w=fe.value+"/"+J(s);n[s]=l(w)===!0&&$e.value(w)}}return n}),Dn=d(()=>{let n,l;const{year:s,month:w}=_.value;if(e.calendar!=="persian")n=new Date(s,w-1,1),l=new Date(s,w-1,0).getDate();else{const q=Ut(s,w,1);n=new Date(q.gy,q.gm-1,q.gd);let K=w-1,F=s;K===0&&(K=12,F--),l=et(F,K)}return{days:n.getDay()-Z.value-1,endDay:l}}),Tt=d(()=>{const n=[],{days:l,endDay:s}=Dn.value,w=l<0?l+7:l;if(w<6)for(let F=s-w;F<=s;F++)n.push({i:F,fill:!0});const q=n.length;for(let F=1;F<=ve.value;F++){const z={i:F,event:qn.value[F],classes:[]};_n.value[F]===!0&&(z.in=!0,z.flat=!0),n.push(z)}if(Ne.value[fe.value]!==void 0&&Ne.value[fe.value].forEach(F=>{const z=q+F-1;Object.assign(n[z],{selected:!0,unelevated:!0,flat:!1,color:k.value,textColor:V.value})}),Ft.value[fe.value]!==void 0&&Ft.value[fe.value].forEach(F=>{if(F.from!==void 0){const z=q+F.from-1,G=q+(F.to||ve.value)-1;for(let He=z;He<=G;He++)Object.assign(n[He],{range:F.range,unelevated:!0,color:k.value,textColor:V.value});Object.assign(n[z],{rangeFrom:!0,flat:!1}),F.to!==void 0&&Object.assign(n[G],{rangeTo:!0,flat:!1})}else if(F.to!==void 0){const z=q+F.to-1;for(let G=q;G<=z;G++)Object.assign(n[G],{range:F.range,unelevated:!0,color:k.value,textColor:V.value});Object.assign(n[z],{flat:!1,rangeTo:!0})}else{const z=q+ve.value-1;for(let G=q;G<=z;G++)Object.assign(n[G],{range:F.range,unelevated:!0,color:k.value,textColor:V.value})}}),Ye.value!==void 0){const F=q+Ye.value.from-1,z=q+Ye.value.to-1;for(let G=F;G<=z;G++)n[G].color=k.value,n[G].editRange=!0;Ye.value.includeFrom===!0&&(n[F].editRangeFrom=!0),Ye.value.includeTo===!0&&(n[z].editRangeTo=!0)}_.value.year===H.value.year&&_.value.month===H.value.month&&(n[q+H.value.day-1].today=!0);const K=n.length%7;if(K>0){const F=7-K;for(let z=1;z<=F;z++)n.push({i:z,fill:!0})}return n.forEach(F=>{let z="q-date__calendar-item ";F.fill===!0?z+="q-date__calendar-item--fill":(z+=`q-date__calendar-item--${F.in===!0?"in":"out"}`,F.range!==void 0&&(z+=` q-date__range${F.rangeTo===!0?"-to":F.rangeFrom===!0?"-from":""}`),F.editRange===!0&&(z+=` q-date__edit-range${F.editRangeFrom===!0?"-from":""}${F.editRangeTo===!0?"-to":""}`),(F.range!==void 0||F.editRange===!0)&&(z+=` text-${F.color}`)),F.classes=z}),n}),pn=d(()=>e.disable===!0?{"aria-disabled":"true"}:{});te(()=>e.modelValue,n=>{if(x===JSON.stringify(n))x=0;else{const l=Et(E.value,C.value);pe(l.year,l.month,l)}}),te(Q,()=>{j.value!==null&&o.$el.contains(document.activeElement)===!0&&j.value.focus()}),te(()=>_.value.year+"|"+_.value.month,()=>{a("navigation",{year:_.value.year,month:_.value.month})}),te(X,n=>{Yt(n,C.value,"mask"),E.value=n}),te(T,n=>{Yt(E.value,n,"locale"),C.value=n});function ut(n){x=JSON.stringify(n)}function Vt(){const{year:n,month:l,day:s}=H.value,w={..._.value,year:n,month:l,day:s},q=Ne.value[xe(w)];(q===void 0||q.includes(w.day)===!1)&&ft(w),st(w.year,w.month)}function Fn(n){Gt(n)===!0&&(Q.value=n)}function Tn(n,l){["month","year"].includes(n)&&(n==="month"?At:dt)(l===!0?-1:1)}function st(n,l){Q.value="Calendar",pe(n,l)}function Vn(n,l){if(e.range===!1||!n){v.value=null;return}const s=Object.assign({..._.value},n),w=l!==void 0?Object.assign({..._.value},l):s;v.value={init:s,initHash:Me(s),final:w,finalHash:Me(w)},st(s.year,s.month)}function Rt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function ct(n,l,s){return el(n,l,s,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Et(n,l){const s=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(s.length===0)return Ot();const w=s[s.length-1],q=ct(w.from!==void 0?w.from:w,n,l);return q.dateHash===null?Ot():q}function Ot(){let n,l;if(e.defaultYearMonth!==void 0){const s=e.defaultYearMonth.split("/");n=parseInt(s[0],10),l=parseInt(s[1],10)}else{const s=H.value!==void 0?H.value:h();n=s.year,l=s.month}return{year:n,month:l,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:n+"/"+J(l)+"/01"}}function At(n){let l=_.value.year,s=Number(_.value.month)+n;s===13?(s=1,l++):s===0&&(s=12,l--),pe(l,s),$.value===!0&&Le("month")}function dt(n){const l=Number(_.value.year)+n;pe(l,_.value.month),$.value===!0&&Le("year")}function Rn(n){pe(n,_.value.month),Q.value=e.defaultView==="Years"?"Months":"Calendar",$.value===!0&&Le("year")}function En(n){pe(_.value.year,n),Q.value="Calendar",$.value===!0&&Le("month")}function On(n,l){(Ne.value[l]?.includes(n.day)===!0?vt:ft)(n)}function Ce(n){return{year:n.year,month:n.month,day:n.day}}function pe(n,l,s){if(ie.value!==null&&n<=ie.value.year&&((l<ie.value.month||n<ie.value.year)&&(l=ie.value.month),n=ie.value.year),ue.value!==null&&n>=ue.value.year&&((l>ue.value.month||n>ue.value.year)&&(l=ue.value.month),n=ue.value.year),s!==void 0){const{hour:q,minute:K,second:F,millisecond:z,timezoneOffset:G,timeHash:He}=s;Object.assign(_.value,{hour:q,minute:K,second:F,millisecond:z,timezoneOffset:G,timeHash:He})}const w=n+"/"+J(l)+"/01";w!==_.value.dateHash&&(B.value=_.value.dateHash<w==(i.lang.rtl!==!0)?"left":"right",n!==_.value.year&&(I.value=B.value),me(()=>{f.value=n-n%he-(n<0?he:0),Object.assign(_.value,{year:n,month:l,day:1,dateHash:w})}))}function Bt(n,l,s){const w=n!==null&&n.length===1&&e.multiple===!1?n[0]:n,{reason:q,details:K}=$t(l,s);ut(w),a("update:modelValue",w,q,K)}function Le(n){const l=y.value[0]!==void 0&&y.value[0].dateHash!==null?{...y.value[0]}:{..._.value};me(()=>{l.year=_.value.year,l.month=_.value.month;const s=e.calendar!=="persian"?new Date(l.year,l.month,0).getDate():et(l.year,l.month);l.day=Math.min(Math.max(1,l.day),s);const w=Fe(l),{details:q}=$t("",l);ut(w),a("update:modelValue",w,n,q)})}function $t(n,l){return l.from!==void 0?{reason:`${n}-range`,details:{...Ce(l.target),from:Ce(l.from),to:Ce(l.to)}}:{reason:`${n}-day`,details:Ce(l)}}function Fe(n,l,s){return n.from!==void 0?{from:ne.value(n.from,l,s),to:ne.value(n.to,l,s)}:ne.value(n,l,s)}function ft(n){let l;if(e.multiple===!0)if(n.from!==void 0){const s=Me(n.from),w=Me(n.to),q=y.value.filter(F=>F.dateHash<s||F.dateHash>w),K=c.value.filter(({from:F,to:z})=>z.dateHash<s||F.dateHash>w);l=q.concat(K).concat(n).map(F=>Fe(F))}else{const s=U.value.slice();s.push(Fe(n)),l=s}else l=Fe(n);Bt(l,"add",n)}function vt(n){if(e.noUnset===!0)return;let l=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const s=Fe(n);n.from!==void 0?l=e.modelValue.filter(w=>w.from!==void 0?w.from!==s.from&&w.to!==s.to:!0):l=e.modelValue.filter(w=>w!==s),l.length===0&&(l=null)}Bt(l,"remove",n)}function Yt(n,l,s){const w=y.value.concat(c.value).map(K=>Fe(K,n,l)).filter(K=>K.from!==void 0?K.from.dateHash!==null&&K.to.dateHash!==null:K.dateHash!==null),q=(e.multiple===!0?w:w[0])||null;ut(q),a("update:modelValue",q,s)}function An(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+b.value},[m("div",{class:"relative-position"},[m(be,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+re.value,class:"q-date__header-subtitle q-date__header-link "+(Q.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...g("vY",{onClick(){Q.value="Years"},onKeyup(n){n.keyCode===13&&(Q.value="Years")}})},[re.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(be,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+M.value,class:"q-date__header-title-label q-date__header-link "+(Q.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...g("vC",{onClick(){Q.value="Calendar"},onKeyup(n){n.keyCode===13&&(Q.value="Calendar")}})},[M.value]))]),e.todayBtn===!0?m(ge,{class:"q-date__header-today self-start",icon:i.iconSet.datetime.today,"aria-label":i.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Vt}):null])])}function mt({label:n,type:l,key:s,dir:w,goTo:q,boundaries:K,cls:F}){return[m("div",{class:"row items-center q-date__arrow"},[m(ge,{round:!0,dense:!0,size:"sm",flat:!0,icon:Y.value[0],"aria-label":l==="Years"?i.lang.date.prevYear:i.lang.date.prevMonth,tabindex:u.value,disable:K.prev===!1,...g("go-#"+l,{onClick(){q(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+F},[m(be,{name:"q-transition--jump-"+w},()=>m("div",{key:s},[m(ge,{flat:!0,dense:!0,noCaps:!0,label:n,tabindex:u.value,...g("view#"+l,{onClick:()=>{Q.value=l}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(ge,{round:!0,dense:!0,size:"sm",flat:!0,icon:Y.value[1],"aria-label":l==="Years"?i.lang.date.nextYear:i.lang.date.nextMonth,tabindex:u.value,disable:K.next===!1,...g("go+#"+l,{onClick(){q(1)}})})])]}const Bn={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},mt({label:C.value.months[_.value.month-1],type:"Months",key:_.value.month,dir:B.value,goTo:At,boundaries:it.value.month,cls:" col"}).concat(mt({label:_.value.year,type:"Years",key:_.value.year,dir:I.value,goTo:dt,boundaries:it.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},de.value.map(n=>m("div",{class:"q-date__calendar-item"},[m("div",n)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(be,{name:"q-transition--slide-"+B.value},()=>m("div",{key:fe.value,class:"q-date__calendar-days fit"},Tt.value.map(n=>m("div",{class:n.classes},[n.in===!0?m(ge,{class:n.today===!0?"q-date__today":"",dense:!0,flat:n.flat,unelevated:n.unelevated,color:n.color,textColor:n.textColor,label:n.i,tabindex:u.value,...g("day#"+n.i,{onClick:()=>{$n(n.i)},onMouseover:()=>{Yn(n.i)}})},n.event!==!1?()=>m("div",{class:"q-date__event bg-"+n.event}):null):m("div",""+n.i)]))))])])],Months(){const n=_.value.year===H.value.year,l=w=>ie.value!==null&&_.value.year===ie.value.year&&ie.value.month>w||ue.value!==null&&_.value.year===ue.value.year&&ue.value.month<w,s=C.value.monthsShort.map((w,q)=>{const K=_.value.month===q+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(ge,{class:n===!0&&H.value.month===q+1?"q-date__today":null,flat:K!==!0,label:w,unelevated:K,color:K===!0?k.value:null,textColor:K===!0?V.value:null,tabindex:u.value,disable:l(q+1),...g("month#"+q,{onClick:()=>{En(q+1)}})})])});return e.yearsInMonthView===!0&&s.unshift(m("div",{class:"row no-wrap full-width"},[mt({label:_.value.year,type:"Years",key:_.value.year,dir:I.value,goTo:dt,boundaries:it.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},s)},Years(){const n=f.value,l=n+he,s=[],w=q=>ie.value!==null&&ie.value.year>q||ue.value!==null&&ue.value.year<q;for(let q=n;q<=l;q++){const K=_.value.year===q;s.push(m("div",{class:"q-date__years-item flex flex-center"},[m(ge,{key:"yr"+q,class:H.value.year===q?"q-date__today":null,flat:!K,label:q,dense:!0,unelevated:K,color:K===!0?k.value:null,textColor:K===!0?V.value:null,tabindex:u.value,disable:w(q),...g("yr#"+q,{onClick:()=>{Rn(q)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(ge,{round:!0,dense:!0,flat:!0,icon:Y.value[0],"aria-label":i.lang.date.prevRangeYears(he),tabindex:u.value,disable:w(n),...g("y-",{onClick:()=>{f.value-=he}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},s),m("div",{class:"col-auto"},[m(ge,{round:!0,dense:!0,flat:!0,icon:Y.value[1],"aria-label":i.lang.date.nextRangeYears(he),tabindex:u.value,disable:w(l),...g("y+",{onClick:()=>{f.value+=he}})})])])}};function $n(n){const l={..._.value,day:n};if(e.range===!1){On(l,fe.value);return}if(v.value===null){const s=Tt.value.find(q=>q.fill!==!0&&q.i===n);if(e.noUnset!==!0&&s.range!==void 0){vt({target:l,from:s.range.from,to:s.range.to});return}if(s.selected===!0){vt(l);return}const w=Me(l);v.value={init:l,initHash:w,final:l,finalHash:w},a("rangeStart",Ce(l))}else{const s=v.value.initHash,w=Me(l),q=s<=w?{from:v.value.init,to:l}:{from:l,to:v.value.init};v.value=null,ft(s===w?l:{target:l,...q}),a("rangeEnd",{from:Ce(q.from),to:Ce(q.to)})}}function Yn(n){if(v.value!==null){const l={..._.value,day:n};Object.assign(v.value,{final:l,finalHash:Me(l)})}}return Object.assign(o,{setToday:Vt,setView:Fn,offsetCalendar:Tn,setCalendarTo:st,setEditingRange:Vn}),()=>{const n=[m("div",{class:"q-date__content col relative-position"},[m(be,{name:"q-transition--fade"},Bn[Q.value])])],l=ke(t.default);return l!==void 0&&n.push(m("div",{class:"q-date__actions"},l)),e.name!==void 0&&e.disable!==!0&&O(n,"push"),m("div",{class:S.value,...pn.value},[An(),m("div",{ref:j,class:"q-date__main col column",tabindex:-1},n)])}}}),xl=Se({name:"QCard",props:{...ot,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:a}}=se(),o=rt(e,a),i=d(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>m(e.tag,{class:i.value},ke(t.default))}});function al(){let e;const t=se();function a(){e=void 0}return ln(a),Be(a),{removeTick:a,registerTick(o){e=o,me(()=>{e===o&&(Je(t)===!1&&e(),e=void 0)})}}}const ll={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ol(e,t=()=>{},a=()=>{}){return{transitionProps:d(()=>{const o=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||a()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:d(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const tt=[];function wl(e){return tt.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function rl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Ge(e)}else if(e.__qPortal===!0){const a=Ge(e);return a?.$options.name==="QPopupProxy"?(e.hide(t),a):e}e=Ge(e)}while(e!=null)}function Cl(e,t,a){for(;a!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(a--,e.$options.name==="QMenu"){e=rl(e,t);continue}e.hide(t)}e=Ge(e)}}const il=Se({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function ul(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function sl(e,t,a,o){const i=L(!1),r=L(!1);let g=null;const u={},b=ul(e);function D(x){if(x===!0){Lt(u),r.value=!0;return}r.value=!1,i.value===!1&&(b===!1&&g===null&&(g=Gn(!1,o)),i.value=!0,tt.push(e.proxy),Ma(u))}function h(x){if(r.value=!1,x!==!0)return;Lt(u),i.value=!1;const A=tt.indexOf(e.proxy);A!==-1&&tt.splice(A,1),g!==null&&(ea(g),g=null)}return Xn(()=>{h(!0)}),e.proxy.__qPortal=!0,at(e.proxy,"contentEl",()=>t.value),{showPortal:D,hidePortal:h,portalIsActive:i,portalIsAccessible:r,renderPortal:()=>b===!0?a():i.value===!0?[m(Jn,{to:g},m(il,a))]:void 0}}const qe=[];let Ae;function cl(e){Ae=e.keyCode===27}function dl(){Ae===!0&&(Ae=!1)}function fl(e){Ae===!0&&(Ae=!1,ta(e,27)===!0&&qe[qe.length-1](e))}function wn(e){window[e]("keydown",cl),window[e]("blur",dl),window[e]("keyup",fl),Ae=!1}function vl(e){lt.is.desktop===!0&&(qe.push(e),qe.length===1&&wn("addEventListener"))}function en(e){const t=qe.indexOf(e);t!==-1&&(qe.splice(t,1),qe.length===0&&wn("removeEventListener"))}const De=[];function Cn(e){De[De.length-1](e)}function ml(e){lt.is.desktop===!0&&(De.push(e),De.length===1&&document.body.addEventListener("focusin",Cn))}function tn(e){const t=De.indexOf(e);t!==-1&&(De.splice(t,1),De.length===0&&document.body.removeEventListener("focusin",Cn))}let Xe=0;const gl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},nn={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},_l=Se({name:"QDialog",inheritAttrs:!1,props:{...ia,...ll,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...ra,"shake","click","escapeKey"],setup(e,{slots:t,emit:a,attrs:o}){const i=se(),r=L(null),g=L(!1),u=L(!1);let b=null,D=null,h,x;const A=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:O}=ca(),{registerTimeout:j}=wt(),{registerTick:E,removeTick:C}=al(),{transitionProps:X,transitionStyle:T}=ol(e,()=>nn[e.position][0],()=>nn[e.position][1]),H=d(()=>T.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:_,hidePortal:Q,portalIsAccessible:p,renderPortal:B}=sl(i,r,re,"dialog"),{hide:I}=ua({showing:g,hideOnRouteChange:A,handleShow:$,handleHide:U,processOnMount:!0}),{addToHistory:P,removeFromHistory:f}=sa(g,I,A),v=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${gl[e.position]}`+(u.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),S=d(()=>g.value===!0&&e.seamless!==!0),k=d(()=>e.autoClose===!0?{onClick:M}:{}),V=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${S.value===!0?"modal":"seamless"}`,o.class]);te(()=>e.maximized,Y=>{g.value===!0&&N(Y)}),te(S,Y=>{O(Y),Y===!0?(ml(le),vl(R)):(tn(le),en(R))});function $(Y){P(),D=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,N(e.maximized),_(),u.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),E(y)):C(),j(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:Z,bottom:de}=document.activeElement.getBoundingClientRect(),{innerHeight:ve}=window,$e=window.visualViewport!==void 0?window.visualViewport.height:ve;Z>0&&de>$e/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-$e,de>=ve?1/0:Math.ceil(document.scrollingElement.scrollTop+de-$e/2))),document.activeElement.scrollIntoView()}x=!0,r.value.click(),x=!1}_(!0),u.value=!1,a("show",Y)},e.transitionDuration)}function U(Y){C(),f(),ne(!0),u.value=!0,Q(),D!==null&&(((Y?.type.indexOf("key")===0?D.closest('[tabindex]:not([tabindex^="-"])'):void 0)||D).focus(),D=null),j(()=>{Q(!0),u.value=!1,a("hide",Y)},e.transitionDuration)}function y(Y){qt(()=>{let Z=r.value;if(Z!==null){if(Y!==void 0){const de=Z.querySelector(Y);if(de!==null){de.focus({preventScroll:!0});return}}Z.contains(document.activeElement)!==!0&&(Z=Z.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||Z.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||Z.querySelector("[autofocus], [data-autofocus]")||Z,Z.focus({preventScroll:!0}))}})}function c(Y){Y&&typeof Y.focus=="function"?Y.focus({preventScroll:!0}):y(),a("shake");const Z=r.value;Z!==null&&(Z.classList.remove("q-animate--scale"),Z.classList.add("q-animate--scale"),b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,r.value!==null&&(Z.classList.remove("q-animate--scale"),y())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&c():(a("escapeKey"),I()))}function ne(Y){b!==null&&(clearTimeout(b),b=null),(Y===!0||g.value===!0)&&(N(!1),e.seamless!==!0&&(O(!1),tn(le),en(R))),Y!==!0&&(D=null)}function N(Y){Y===!0?h!==!0&&(Xe<1&&document.body.classList.add("q-body--dialog"),Xe++,h=!0):h===!0&&(Xe<2&&document.body.classList.remove("q-body--dialog"),Xe--,h=!1)}function M(Y){x!==!0&&(I(Y),a("click",Y))}function W(Y){e.persistent!==!0&&e.noBackdropDismiss!==!0?I(Y):e.noShake!==!0&&c()}function le(Y){e.allowFocusOutside!==!0&&p.value===!0&&na(r.value,Y.target)!==!0&&y('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:y,shake:c,__updateRefocusTarget(Y){D=Y||null}}),Be(ne);function re(){return m("div",{role:"dialog","aria-modal":S.value===!0?"true":"false",...o,class:V.value},[m(be,{name:"q-transition--fade",appear:!0},()=>S.value===!0?m("div",{class:"q-dialog__backdrop fixed-full",style:H.value,"aria-hidden":"true",tabindex:-1,onClick:W}):null),m(be,X.value,()=>g.value===!0?m("div",{ref:r,class:v.value,style:T.value,tabindex:-1,...k.value},ke(t.default)):null)])}return B}}),ql=Se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:a}}=se(),o=Mt(aa,Te);if(o===Te)return console.error("QPage needs to be a deep child of QLayout"),Te;if(Mt(la,Te)===Te)return console.error("QPage needs to be child of QPageContainer"),Te;const r=d(()=>{const u=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const b=o.isContainer.value===!0?o.containerHeight.value:a.screen.height;return e.styleFn(u,b)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-u+"px":a.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":a.screen.height-u+"px"}}),g=d(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:g.value,style:r.value},ke(t.default))}});export{ql as Q,xl as a,bl as b,Cl as c,kl as d,Sl as e,_l as f,wl as g,Ml as h,qt as i};
